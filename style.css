/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;400;500;600;700&display=swap');

/* CSS Variables for Dynamic Theming */
:root {
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --danger-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    --dark-bg: rgba(0, 0, 0, 0.8);
    --glass-bg: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 255, 255, 0.2);
    --text-primary: #ffffff;
    --text-secondary: #e0e0e0;
    --shadow-primary: 0 20px 40px rgba(0, 0, 0, 0.3);
    --shadow-secondary: 0 10px 20px rgba(0, 0, 0, 0.2);
    --border-radius: 20px;
    --animation-speed: 0.3s;
}

/* Global Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    background: #0f0f23;
    color: var(--text-primary);
    overflow-x: hidden;
    min-height: 100vh;
}

/* Animated Background */
.background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: linear-gradient(45deg, #0f0f23, #1a1a3a, #2d1b69, #0f0f23);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Floating Stars */
.stars {
    position: absolute;
    width: 100%;
    height: 100%;
}

.stars::before,
.stars::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    box-shadow: 
        20px 30px white, 40px 70px white, 90px 40px white, 130px 80px white,
        160px 30px white, 200px 90px white, 240px 50px white, 280px 120px white,
        320px 80px white, 360px 40px white, 400px 110px white, 440px 70px white,
        480px 100px white, 520px 60px white, 560px 130px white, 600px 90px white,
        640px 50px white, 680px 120px white, 720px 80px white, 760px 40px white,
        800px 100px white, 840px 70px white, 880px 130px white, 920px 90px white,
        960px 50px white, 1000px 110px white, 1040px 80px white, 1080px 40px white;
    animation: twinkle 3s linear infinite;
}

.stars::after {
    width: 1px;
    height: 1px;
    animation-delay: 2s;
}

@keyframes twinkle {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

/* Floating Shapes */
.floating-shapes {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.shape {
    position: absolute;
    opacity: 0.1;
    animation: float 20s linear infinite;
}

.shape-1 {
    width: 80px;
    height: 80px;
    background: var(--primary-gradient);
    border-radius: 50%;
    top: 20%;
    left: 10%;
    animation-delay: 0s;
}

.shape-2 {
    width: 60px;
    height: 60px;
    background: var(--secondary-gradient);
    border-radius: 30%;
    top: 60%;
    left: 80%;
    animation-delay: 5s;
}

.shape-3 {
    width: 100px;
    height: 100px;
    background: var(--success-gradient);
    border-radius: 20%;
    top: 80%;
    left: 20%;
    animation-delay: 10s;
}

.shape-4 {
    width: 40px;
    height: 40px;
    background: var(--danger-gradient);
    border-radius: 50%;
    top: 40%;
    left: 60%;
    animation-delay: 15s;
}

.shape-5 {
    width: 120px;
    height: 120px;
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    border-radius: 40%;
    top: 10%;
    left: 70%;
    animation-delay: 8s;
}

@keyframes float {
    0% {
        transform: translateY(0px) rotate(0deg);
        opacity: 0.1;
    }
    50% {
        opacity: 0.3;
    }
    100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
    }
}

/* Main Game Container */
.game-container {
    position: relative;
    z-index: 1;
    min-height: 100vh;
    padding: 20px;
    display: flex;
    flex-direction: column;
}

/* Header Styles */
.game-header {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: var(--shadow-primary);
    animation: slideInDown 1s ease-out;
}

@keyframes slideInDown {
    from {
        transform: translateY(-100px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.game-title {
    font-family: 'Orbitron', monospace;
    font-size: 2.5rem;
    font-weight: 900;
    text-align: center;
    margin-bottom: 20px;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: titlePulse 2s ease-in-out infinite alternate;
}

@keyframes titlePulse {
    from { transform: scale(1); }
    to { transform: scale(1.05); }
}

.title-icon {
    display: inline-block;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

.header-stats {
    display: flex;
    justify-content: space-around;
    gap: 20px;
}

.stat-item {
    text-align: center;
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    flex: 1;
    transition: all var(--animation-speed) ease;
}

.stat-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.stat-label {
    display: block;
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 5px;
}

.stat-value {
    display: block;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary);
}

/* Settings Button */
.settings-btn {
    position: absolute;
    top: 30px;
    right: 30px;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 50px;
    padding: 12px 20px;
    color: var(--text-primary);
    font-size: 1rem;
    cursor: pointer;
    transition: all var(--animation-speed) ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.settings-btn:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-secondary);
    background: rgba(255, 255, 255, 0.15);
}

.gear-icon {
    animation: rotate 3s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Game Main Area */
.game-main {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* Welcome Screen */
.welcome-screen {
    text-align: center;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    padding: 40px;
    box-shadow: var(--shadow-primary);
    max-width: 600px;
    animation: fadeInUp 1s ease-out;
}

@keyframes fadeInUp {
    from {
        transform: translateY(50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.welcome-title {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 20px;
    background: var(--secondary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.welcome-text {
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 30px;
    color: var(--text-secondary);
}

.difficulty-info {
    margin: 30px 0;
}

.info-card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.info-card h3 {
    font-size: 1.3rem;
    margin-bottom: 15px;
    color: var(--text-primary);
}

.info-card ul {
    list-style: none;
    text-align: left;
}

.info-card li {
    padding: 8px 0;
    color: var(--text-secondary);
    position: relative;
    padding-left: 25px;
}

.info-card li::before {
    content: 'âœ¨';
    position: absolute;
    left: 0;
    top: 8px;
}

/* Buttons */
.start-btn, .submit-btn, .restart-btn {
    background: var(--primary-gradient);
    border: none;
    border-radius: 50px;
    padding: 15px 30px;
    font-size: 1.1rem;
    font-weight: 600;
    color: white;
    cursor: pointer;
    transition: all var(--animation-speed) ease;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    box-shadow: var(--shadow-secondary);
    position: relative;
    overflow: hidden;
}

.start-btn::before, .submit-btn::before, .restart-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.5s;
}

.start-btn:hover::before, .submit-btn:hover::before, .restart-btn:hover::before {
    left: 100%;
}

.start-btn:hover, .submit-btn:hover, .restart-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
}

.btn-icon {
    font-size: 1.2rem;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Quiz Screen */
.quiz-screen {
    display: none;
    width: 100%;
    max-width: 800px;
    animation: fadeIn 0.5s ease-out;
}

.quiz-screen.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Progress Bar */
.progress-bar {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 25px;
    height: 50px;
    margin-bottom: 30px;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.progress-fill {
    height: 100%;
    background: var(--success-gradient);
    border-radius: 25px;
    transition: width 0.5s ease;
    position: relative;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-weight: 600;
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* Question Container */
.question-container {
    margin-bottom: 30px;
}

.question-card {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    padding: 40px;
    text-align: center;
    box-shadow: var(--shadow-primary);
    animation: questionAppear 0.5s ease-out;
}

@keyframes questionAppear {
    from {
        transform: scale(0.8) rotateY(-10deg);
        opacity: 0;
    }
    to {
        transform: scale(1) rotateY(0deg);
        opacity: 1;
    }
}

.question-text {
    font-family: 'Orbitron', monospace;
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 30px;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: questionPulse 1s ease-in-out infinite alternate;
}

@keyframes questionPulse {
    from { transform: scale(1); }
    to { transform: scale(1.02); }
}

.answer-input-container {
    display: flex;
    gap: 15px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
}

.answer-input {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 15px;
    padding: 15px 20px;
    font-size: 1.5rem;
    color: white;
    text-align: center;
    width: 200px;
    transition: all var(--animation-speed) ease;
}

.answer-input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
    transform: scale(1.05);
}

.answer-input::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

/* Feedback Container */
.feedback-container {
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.feedback-message {
    padding: 20px 30px;
    border-radius: 15px;
    font-size: 1.2rem;
    font-weight: 600;
    text-align: center;
    animation: feedbackAppear 0.5s ease-out;
}

@keyframes feedbackAppear {
    from {
        transform: scale(0.5);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

.feedback-correct {
    background: var(--success-gradient);
    color: white;
    box-shadow: 0 10px 25px rgba(79, 172, 254, 0.3);
}

.feedback-incorrect {
    background: var(--danger-gradient);
    color: white;
    box-shadow: 0 10px 25px rgba(250, 112, 154, 0.3);
}

/* Results Screen */
.results-screen {
    display: none;
    text-align: center;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    padding: 40px;
    box-shadow: var(--shadow-primary);
    max-width: 600px;
    animation: resultsAppear 1s ease-out;
}

.results-screen.active {
    display: block;
}

@keyframes resultsAppear {
    from {
        transform: scale(0.8) rotateX(-15deg);
        opacity: 0;
    }
    to {
        transform: scale(1) rotateX(0deg);
        opacity: 1;
    }
}

.trophy-animation {
    font-size: 5rem;
    animation: trophyBounce 2s ease-in-out infinite;
    margin-bottom: 20px;
}

@keyframes trophyBounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0) scale(1); }
    40% { transform: translateY(-20px) scale(1.1); }
    60% { transform: translateY(-10px) scale(1.05); }
}

.results-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 30px;
    background: var(--success-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.results-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.result-stat {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all var(--animation-speed) ease;
}

.result-stat:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-secondary);
}

.result-label {
    display: block;
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 10px;
}

.result-value {
    display: block;
    font-size: 1.8rem;
    font-weight: 700;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: modalFadeIn 0.3s ease-out;
}

.modal-overlay.active {
    display: flex;
}

@keyframes modalFadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.modal-content {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    padding: 30px;
    max-width: 500px;
    width: 90%;
    box-shadow: var(--shadow-primary);
    animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
    from {
        transform: scale(0.8) translateY(-50px);
        opacity: 0;
    }
    to {
        transform: scale(1) translateY(0);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.modal-header h3 {
    font-size: 1.5rem;
    font-weight: 600;
}

.close-btn {
    background: none;
    border: none;
    font-size: 2rem;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--animation-speed) ease;
}

.close-btn:hover {
    color: var(--text-primary);
    transform: rotate(90deg);
}

.password-section, .settings-section {
    margin: 20px 0;
}

.password-section label, .setting-item label {
    display: block;
    margin-bottom: 10px;
    font-weight: 500;
}

.password-section input, .setting-item input[type="number"] {
    width: 100%;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    padding: 12px 15px;
    color: white;
    font-size: 1rem;
    margin-bottom: 15px;
    transition: all var(--animation-speed) ease;
}

.password-section input:focus, .setting-item input[type="number"]:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 15px rgba(102, 126, 234, 0.3);
}

.setting-item {
    margin: 20px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.setting-item input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: #667eea;
}

.unlock-btn, .save-btn {
    background: var(--secondary-gradient);
    border: none;
    border-radius: 10px;
    padding: 12px 20px;
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--animation-speed) ease;
    width: 100%;
}

.unlock-btn:hover, .save-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-secondary);
}

/* Responsive Design */
@media (max-width: 768px) {
    .game-title {
        font-size: 2rem;
    }
    
    .header-stats {
        flex-direction: column;
        gap: 10px;
    }
    
    .question-text {
        font-size: 2rem;
    }
    
    .answer-input-container {
        flex-direction: column;
    }
    
    .answer-input {
        width: 100%;
        max-width: 300px;
    }
    
    .settings-btn {
        position: static;
        margin: 10px auto;
    }
    
    .results-stats {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .game-container {
        padding: 10px;
    }
    
    .game-header, .welcome-screen, .question-card, .results-screen {
        padding: 20px;
    }
    
    .question-text {
        font-size: 1.5rem;
    }
    
    .modal-content {
        padding: 20px;
        margin: 20px;
    }
}

/* Additional Animations */
@keyframes sparkle {
    0%, 100% { opacity: 0; transform: scale(0); }
    50% { opacity: 1; transform: scale(1); }
}

.sparkle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: white;
    border-radius: 50%;
    animation: sparkle 1s ease-in-out infinite;
}

/* Performance Optimizations */
.game-container * {
    will-change: transform;
}

.question-card, .welcome-screen, .results-screen {
    transform: translateZ(0);
    backface-visibility: hidden;
}